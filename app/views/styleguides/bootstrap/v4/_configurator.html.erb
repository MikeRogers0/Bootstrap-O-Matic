<%= simple_form_for BootstrapConfiguration.build_from, url: '#', method: :get, html: { 'data-source-src': css_generator_url } do |f| %>
  <fieldset>
    <legend data-toggle="collapse" data-target="#collapseColors" aria-expanded="true" aria-controls="collapseColors">Colours</legend>
    <div class="collapse show" id="collapseColors">
      <label>Required Colours</label>
      <% [:primary, :success, :danger].each do |colour| %>
        <%= f.input colour, as: :string,
          required: true,
          wrapper_html: { class: 'row'},
          label_html: { class: 'col-6 col-form-label-sm' },
          input_html: { class: 'col-5 form-control-sm', type: :color, value: '#000000', 'data-value-src': "--#{colour}" }
        %>
      <% end %>

      <label>Optional Colours</label>
      <%= f.simple_fields_for :optional_colours, f.object.optional_colours do |ff| %>
        <div class="optional-colour-field row">
          <%= ff.input :name, as: :string,
            required: false,
            wrapper_html: { class: 'col-6'},
            label_html: { class: 'sr-only' },
            input_html: { class: 'form-control-sm' }
          %>
          <%= ff.input :colour, as: :string,
            required: false,
            wrapper_html: { class: 'col-5'},
            label_html: { class: 'sr-only' },
            input_html: { class: 'form-control-sm', type: :color, value: '#000000', 'data-value-src': "--#{ff.object.colour}" }
          %>
        </div>
      <% end %>
    </div>
  </fieldset>

  <fieldset>
    <legend data-toggle="collapse" data-target="#collapseFonts" aria-expanded="true" aria-controls="collapseFonts">Fonts</legend>
    <div class="collapse show" id="collapseFonts">
      <%= f.input :font_size_base, as: :select,
        include_blank: false,
        label_html: { class: 'col-form-label-sm' },
        input_html: { class: 'form-control-sm' },
        collection: [
          '0.5rem',
          '0.75rem',
          '1rem',
          '1.25rem',
          '1.5rem'
        ]
      %>

      <%= f.input :font_family_sans_serif, as: :select,
        include_blank: false,
        label_html: { class: 'col-form-label-sm' },
        input_html: { class: 'form-control-sm' },
        collection: [
          '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',
          'Arial, Helvetica, sans-serif',
          '"Arial Black", Gadget, sans-serif',
          '"Comic Sans MS", cursive, sans-serif',
          'Impact, Charcoal, sans-serif',
          '"Lucida Sans Unicode", "Lucida Grande", sans-serif'
        ]
      %>

      <%= f.input :font_family_monospace, as: :select,
        include_blank: false,
        label_html: { class: 'col-form-label-sm' },
        input_html: { class: 'form-control-sm' },
        collection: [
          'SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',
          '"Courier New", Courier, monospace',
          '"Lucida Console", Monaco, monospace'
        ]
      %>
    </div>
  </fieldset>

  <fieldset>
    <legend data-toggle="collapse" data-target="#collapseEmbed" aria-expanded="true" aria-controls="collapseEmbed">Embed</legend>
    <div class="collapse show" id="collapseEmbed">
      <p class="small">Use this style on your own site via the following options:</p>
      <%= f.input :cdn_url, as: :string,
        readonly: true, 
        label_html: { class: 'col-form-label-sm' },
        input_html: { name: nil, value: css_generator_url, class: 'form-control-sm cdn-url' } %>

      <%= f.input :yarn_package, as: :string,
        readonly: true,
        label_html: { class: 'col-form-label-sm' },
        input_html: { name: nil, value: "yarn add styleamatic #{css_generator_url}", class: 'form-control-sm yarn-package' } %>
    </div>
  </fieldset>
<% end %>
